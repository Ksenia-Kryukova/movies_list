<!DOCTYPE html>
<html>
<head>
    <title>Мое первое Django-приложение</title>
</head>
<body>
    <h1>Топ-250 лучших фильмов</h1>

    <form method="get" action=".">
        <label for="genre">Выберите жанр:</label>
        <select name="genre" id="genre" onchange="this.form.submit()">
            <option value="">Все жанры</option>
            {% for g in genres %}
                <option value="{{ g }}" {% if g == request.GET.genre %}selected{% endif %}>{{ g }}</option>
            {% endfor %}
        </select>
    </form>
    
{% for movie in movies %}
    <div>
        <h2>{{ movie.title }}</h2>
        <p>Жанр: {{ movie.genre }}</p>
        <p>Год выпуска: {{ movie.release_year }}</p>
        <p>Режиссер: {{ movie.description }}</p>
    </div>
{% endfor %}

</body>
</html>